<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mido Hub</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
    <!-- Load Supabase from CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>

    <!-- Login Screen -->
    <div id="login-screen" class="screen active">
        <div class="glass-card fade-in">
            <div class="logo-large">MH</div>
            <h1>Mido Hub</h1>
            <p>Sync files & text across devices</p>
            <input type="text" id="username-input" placeholder="Enter Username..." autocomplete="off">
            <button id="login-btn">Enter Hub <i class="fas fa-arrow-right"></i></button>
        </div>
    </div>

    <!-- Main Hub -->
    <div id="hub-screen" class="screen">
        <div class="nav-bar">
            <div class="logo">Mido Hub <span class="dot"></span></div>
            <div class="profile">
                <span id="display-name">User</span>
                <button id="logout-btn"><i class="fas fa-sign-out-alt"></i></button>
            </div>
        </div>

        <div id="chat-container">
            <!-- Messages load here -->
        </div>

        <div class="input-area glass-card">
            <div id="file-preview-area">
                <i class="fas fa-file"></i> <span id="file-name-display"></span>
                <i class="fas fa-times" id="remove-file"></i>
            </div>

            <form id="msg-form">
                <label for="file-input" class="icon-btn file-btn"><i class="fas fa-paperclip"></i></label>
                <input type="file" id="file-input" hidden>
                <input type="text" id="text-input" placeholder="Type message..." autocomplete="off">
                <button type="submit" class="icon-btn send-btn" id="submit-btn"><i class="fas fa-paper-plane"></i></button>
            </form>
            <div id="progress-bar-container"><div id="progress-bar"></div></div>
        </div>
    </div>

        <!-- ... rest of your html ... -->

    <!-- LIGHTBOX (Full Screen Viewer) -->
    <!-- LIGHTBOX (Full Screen Viewer) -->
    <div id="lightbox" class="lightbox" onclick="closeLightbox()">
        
        <!-- Top Right Buttons -->
        <div class="lightbox-header">
            <!-- Download Button inside Fullscreen -->
            <span class="lightbox-icon" id="lightbox-dl-btn" title="Download">
                <i class="fas fa-download"></i>
            </span>
            <!-- Close Button -->
            <span class="lightbox-icon close-btn" onclick="closeLightbox()">
                &times;
            </span>
        </div>

        <div class="lightbox-content" onclick="event.stopPropagation()">
            <img id="lightbox-img" src="">
            <video id="lightbox-video" controls></video>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
    <script src="app.js"></script>
</body>
</html>
    
    <script src="app.js"></script>
</body>
</html>
